<template>
    <div class="spinner">
        <template if:true={isLoading}>
             <lightning-spinner alternative-text="Loading" variant="brand" size="large">
             </lightning-spinner>
        </template>
    </div>
    <lightning-card title="Upload File" icon-name="custom:custom19">
        <lightning-file-upload
            label="Upload File"
            name="fileUploader"
            record-id={selectedRecordId}
            onuploadfinished={handleUploadFinished}
            multiple>
    </lightning-file-upload>
    </lightning-card>
<lightning-card if:true={showFileInfo}>
    File uploaded Successfully
    <br/>

    <template if:true={filesData}>
        <template for:each={filesData} for:item="imgName" for:index="index">
            {imgName.fileName}
            <lightning-button key={imgName.documentId} data-id={index} variant="base" label="View File" title="View Uploaded File" onclick={viewHandleClick} class="slds-m-left_x-small"></lightning-button>

        <lightning-button key={imgName.documentId} data-id={index} variant="base" label="Delete File" title="Delete Uploaded File" onclick={deletehandleClick} class="slds-m-left_x-small"></lightning-button>
        <br key={imgName.documentId}/>
        </template>
    </template>
    
    
</lightning-card>
<lightning-card if:true={fileDeleted}>
    File Deleted Successfully 
    </lightning-card>
</template>