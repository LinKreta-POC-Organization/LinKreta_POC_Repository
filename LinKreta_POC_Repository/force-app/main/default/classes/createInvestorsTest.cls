@isTest
public class createInvestorsTest {
   @TestSetup
   static void createData(){
    GenericMockClass mock= new GenericMockClass (200,'success','{"statusCode":"200","statusMsg":"Record inserted Successfully","data":""}');
        Test.setMock(HttpCalloutMock.class,mock);
        Test.setMock(HttpCalloutMock.class,mock);
        Lead leadRecord =  TestDataFactory.createLeadRecord();
        leadRecord.Industry_Leader__c =UserInfo.getUserId();
        leadRecord.Industry__c ='Banking';
        leadRecord.Email ='Test32@233test.com';
        //leadRecord.IndustryLeaderApprovalStatus__c = 'Approved';
        leadRecord.capIQId__c ='IQ874170';
        leadRecord.MCA_ID__c ='KFI000010857652E';
        insert leadRecord;
        Account acc =TestDataFactory.createAccountRecord();
        acc.Industry__c = 'Banking';
        acc.capIQId__c ='IQ874170';
        insert acc;
   }
    /*@isTest static void testClientNewSearchByName(){   
    Test.startTest();
    String body ='{"GDSSDKResponse":[{"ErrMsg":"","Headers":["IQ_COMPANY_NAME_QUICK_MATCH","AsOfDate"],"NumRows":5,"Seniority":"","Properties":{"endrank":"5","startrank":"1"},"EndDate":"","CacheExpiryTime":"0","StartDate":"","Function":"GDSHE","Identifier":"TATA","NumCols":2,"Mnemonic":"IQ_COMPANY_NAME_QUICK_MATCH","Frequency":"","Limit":"","Rows":[{"Row":["Tata Steel Limited",""]},{"Row":["Tata Motors Limited",""]},{"Row":["Tata Consultancy Services Limited",""]},{"Row":["The Tata Power Company Limited",""]},{"Row":["Tata Sons Private Limited",""]}]}]}';
    GenericMockClass mock= new GenericMockClass (200,'success',body);
    Test.setMock(HttpCalloutMock.class,mock);
    capIQButtontoUpdateClient.ClientNewSearchByName('TATA');
    Test.stopTest();

    }
    @isTest static void testSendCapIQIdtoMap(){   
        Test.startTest();
        String body ='{"GDSSDKResponse":[{"ErrMsg":"","Headers":["IQ_INVESTORS_CURR","AsOfDate"],"NumRows":7,"Seniority":"","Properties":{"endrank":"20","startrank":"1"},"EndDate":"","CacheExpiryTime":"0","StartDate":"","Function":"GDSHE","Identifier":"IQ874170","NumCols":2,"Mnemonic":"IQ_INVESTORS_CURR","Frequency":"","Limit":"","Rows":[{"Row":["HB Stockholdings Limited",""]},{"Row":["HDFC Asset Management Company Limited",""]},{"Row":["Life Insurance Corporation of India",""]},{"Row":["Niskalp Energy Limited",""]},{"Row":["Questar Investments Ltd.",""]},{"Row":["Tata Investment Corporation Limited",""]},{"Row":["Tata Sons Private Limited",""]}]},{"ErrMsg":"","Headers":["IQ_INVESTORS_CURR_STAKE","AsOfDate"],"NumRows":7,"Seniority":"","Properties":{"endrank":"20","startrank":"1"},"EndDate":"","CacheExpiryTime":"0","StartDate":"","Function":"GDSHE","Identifier":"IQ874170","NumCols":2,"Mnemonic":"IQ_INVESTORS_CURR_STAKE","Frequency":"","Limit":"","Rows":[{"Row":["Minority",""]},{"Row":["Minority",""]},{"Row":["Minority",""]},{"Row":["Minority",""]},{"Row":["Minority",""]},{"Row":["Minority",""]},{"Row":["Minority",""]}]},{"ErrMsg":"","Headers":["IQ_INVESTORS_CURR_TRANSACTION_ID","AsOfDate"],"NumRows":7,"Seniority":"","Properties":{"endrank":"20","startrank":"1"},"EndDate":"","CacheExpiryTime":"0","StartDate":"","Function":"GDSHE","Identifier":"IQ874170","NumCols":2,"Mnemonic":"IQ_INVESTORS_CURR_TRANSACTION_ID","Frequency":"","Limit":"","Rows":[{"Row":["Data Unavailable",""]},{"Row":["Data Unavailable",""]},{"Row":["Data Unavailable",""]},{"Row":["Data Unavailable",""]},{"Row":["Data Unavailable",""]},{"Row":["Data Unavailable",""]},{"Row":["IQTR106674269",""]}]}]}';
        GenericMockClass mock= new GenericMockClass (200,'success',body);
        Account accObj = [SELECT Id FROM Account LIMIT 1];
        Test.setMock(HttpCalloutMock.class,mock);
        capIQButtontoUpdateClient.sendCapIQIdtoMap(accObj.Id);
        Test.stopTest();
    
        }*/
    @isTest static void testDeleteOldInv(){   
        Test.startTest();
        Lead leadObj  = [SELECT Id,capIQId__c FROM Lead LIMIT 1];
        String body ='{"GDSSDKResponse":[{"ErrMsg":"","Headers":["IQ_INVESTORS_CURR","AsOfDate"],"NumRows":7,"Seniority":"","Properties":{"endrank":"20","startrank":"1"},"EndDate":"","CacheExpiryTime":"0","StartDate":"","Function":"GDSHE","Identifier":"IQ874170","NumCols":2,"Mnemonic":"IQ_INVESTORS_CURR","Frequency":"","Limit":"","Rows":[{"Row":["HB Stockholdings Limited",""]},{"Row":["HDFC Asset Management Company Limited",""]},{"Row":["Life Insurance Corporation of India",""]},{"Row":["Niskalp Energy Limited",""]},{"Row":["Questar Investments Ltd.",""]},{"Row":["Tata Investment Corporation Limited",""]},{"Row":["Tata Sons Private Limited",""]}]},{"ErrMsg":"","Headers":["IQ_INVESTORS_CURR_STAKE","AsOfDate"],"NumRows":7,"Seniority":"","Properties":{"endrank":"20","startrank":"1"},"EndDate":"","CacheExpiryTime":"0","StartDate":"","Function":"GDSHE","Identifier":"IQ874170","NumCols":2,"Mnemonic":"IQ_INVESTORS_CURR_STAKE","Frequency":"","Limit":"","Rows":[{"Row":["Minority",""]},{"Row":["Minority",""]},{"Row":["Minority",""]},{"Row":["Minority",""]},{"Row":["Minority",""]},{"Row":["Minority",""]},{"Row":["Minority",""]}]},{"ErrMsg":"","Headers":["IQ_INVESTORS_CURR_TRANSACTION_ID","AsOfDate"],"NumRows":7,"Seniority":"","Properties":{"endrank":"20","startrank":"1"},"EndDate":"","CacheExpiryTime":"0","StartDate":"","Function":"GDSHE","Identifier":"IQ874170","NumCols":2,"Mnemonic":"IQ_INVESTORS_CURR_TRANSACTION_ID","Frequency":"","Limit":"","Rows":[{"Row":["Data Unavailable",""]},{"Row":["Data Unavailable",""]},{"Row":["Data Unavailable",""]},{"Row":["Data Unavailable",""]},{"Row":["Data Unavailable",""]},{"Row":["Data Unavailable",""]},{"Row":["IQTR106674269",""]}]}]}';
        GenericMockClass mock= new GenericMockClass (200,'success',body);
        Test.setMock(HttpCalloutMock.class,mock);
        createInvestors.deleteOldInv(leadObj.Id,leadObj.capIQId__c,'Lead');
        Test.stopTest();
    
    }
    @isTest static void testCreateInvestorsFromMCA(){   
        Test.startTest();
        Lead leadObj  = [SELECT Id,capIQId__c,MCA_ID__c FROM Lead LIMIT 1];
        String body ='{ "requestId": "85953d17-a1c8-4c52-bf7e-d89a06de282b", "result": { "shareHolders": [ { "percentageOfHoldingByShares": 74.91, "cin": "L27100MH1907PLC000260", "name": "TATA STEEL LIMITED", "metadata": { "source": "MGT7", "documentName": "Form MGT-7-28092023_signed", "dateOfFiling": "28-09-2023", "docId": "653c3606500a64000864e4de" }, "numberOfEquitySharesHeld": "", "percentageOfHoldingByVotes": "", "din": "", "address": "", "pan": "" }, { "din": "8384201", "pan": "", "name": "ASHISH ANUPAM", "percentageOfHoldingByShares": 4.434589800443459e-05, "numberOfEquitySharesHeld": 20, "metadata": { "source": "MGT7", "documentName": "Form MGT-7-28092023_signed", "dateOfFiling": "28-09-2023", "docId": "653c3606500a64000864e4de" }, "address": "", "cin": "", "percentageOfHoldingByVotes": "" } ], "companyName": "TATA STEEL LONG PRODUCTS LIMITED", "entityId": "L27102OR1982PLC001091", "lastDownloaded": "27-10-2023" }, "statusCode": 101 }';
        GenericMockClass mock= new GenericMockClass (200,'success',body);
        Test.setMock(HttpCalloutMock.class,mock);
        createInvestors.createInvestorsFromMCA(leadObj.Id,'L27102OR1982PLC001091','Lead');
        Test.stopTest();
    }
    
    @isTest static void testDeleteOldInvMCA(){   
        Test.startTest();
        Lead leadObj  = [SELECT Id,capIQId__c,MCA_ID__c FROM Lead LIMIT 1];
        String body ='{ "requestId": "013d55ba-7039-451b-8955-f6a2077e7512", "result": { "annualReturn": [ { "metadata": { "docId": "612a0348f36efc0001136295", "financialYear": "2018-19", "financialStartDate": "2018-04-01", "financialEndDate": "2019-03-31", "dateOfFiling": "2019-09-11", "documentName": "Form MGT-7-11092019_signed", "entityId": "L27102OR1982PLC001091", "formId": "MGT 7", "type": "Annual Return", "lastUpdated": "2021-08-28 18:08:47", "attachmentLink": "https://download.karza.in/mca-docs/MGlRQ1F1NXNOb0dxSk90SVJqdmxJcFVza3JHZkJkczZrVTdrZGhpN0lyWmJGY3lpNFFCSHlHbWtPT3MyUVNpeGljbWdybEd1K2FoOVJXc0RVcjVpQmZGL3F5dTdxQStOWTJNLy9VOFIxdUxURnZNa1dSQmtvc2JxOHpRaTFVLytVd0JQVCs5bFhZOVdiS1ZuN3c4aHp3dGNqU1ZtTVdoZWM2YUs4VFkrUGxKOXBkVEl5ZE8wVUFKQ2lYSHA5cUR5OHlPSjBnWWllODJnaUQ1TmRZTDl0MW1mUEVTM2ZweDhrZTZaazMwbDB2YWdVamFZdms3dWMxWWxRanZ5OEIrbFVOWEZ2QlBUV3VnVGNmcUFxYzNVWDJiL2diczVGZHBvZVNCOTY3QU1sZ2RoZzJhNU1JOG1hVTc5VjNpOXM4S0U=", "excelLink": "https://download.karza.in/mca-docs/MGlRQ1F1NXNOb0dxSk90SVJqdmxJcFVza3JHZkJkczZrVTdrZGhpN0lyWkdubDRkenUxNlBFTEVneXpFZGpkZmNzZEwwTlhyZVFTckwvdCtNcGljalJuNTBDYmxxbXhvSVIwT2I1eVpZS0NFYXpVWTd3UktqS2FkTFUzWk1CWUcwYlN6ZWJhN1pqd1F6Q2FXaU54TFJjYlAyaHdpZ3poaGVvcjZOWlJrZ3Y3UnNxZWxVeEJKUWJmTk9JSGNST3g4SFVxQS9tOVhhT09kWkt6MjdWK2ZHTWdqNGFqcWhwM00wbC9qaGh3Z3EzUTJjRDQzZ0swWjkvdHAvWXFGampYaDFSdXdTWkUvUHpucENDVUhOZmY5aEo0M2dZYlMxdmVabmkrMHg2VjJKMzBXYlV2V1B4Qk8xQlJsK052a0FPL0RVdWwwT0tUQ3FHcVBJbVpySTF6byt3PT0=", "docLink": "https://download.karza.in/mca-docs/MGlRQ1F1NXNOb0dxSk90SVJqdmxJcFVza3JHZkJkczZrVTdrZGhpN0lyWUVVOVpTeXM4VzFYWEpPNmdrOG5TSlI5azJXQWxlUDJpa1ZVOEdCcWNubXRTU084SlFmYnlqaWRYcnVKYnBxdjY0KzkvOGsvREVPK0ZUQ09PT205L1VXblBya3hoMVhUcjFrTERVS2JmendpZUl2OHRrUVlMOTcrbk1BcWc2ZHQ2N3c3Q2VKQ3VtYkU4eG15QzArUS9hbFE2bXVBaUQ5S012eXdHNUN1b20rQmZZN0w2WjhZaVJrWTQ1eXVYQnNidVg5a2Z2T2lkTUZYYndTeENnbm52WnZKbG9YSkpObno1cXlvUWJwSklNVkw0cjM0RFhScUxRbGdiY1lvOWJjOEk9" }, "data": { "businessActivitiesList": [ { "businessActivityCode": "C7", "descriptionOfBusinessActivity": "Metal and metal products", "descriptionOfMainActivityGroup": "Manufacturing", "mainActivityGroupCode": "C", "percentageOfTurnoverOfTheCompany": 94.63, "sNo": 1 }, { "businessActivityCode": "D1", "descriptionOfBusinessActivity": "Electric power generation, transmission and distribution", "descriptionOfMainActivityGroup": "Electricity, gas, steam and air condition supply", "mainActivityGroupCode": "D", "percentageOfTurnoverOfTheCompany": 5.37, "sNo": 2 } ], "subsidiariesList": [ { "cinFcrn": "U40109OR2012PLC016232", "holdingSubsidiaryAssociateJointVenture": "Subsidiary", "namecompany": "TSIL ENERGY LIMITED", "percentageOfSharesHeld": 100.0, "sNo": 2 }, { "cinFcrn": "L27100MH1907PLC000260", "holdingSubsidiaryAssociateJointVenture": "Holding Company", "namecompany": "TATA STEEL LIMITED", "percentageOfSharesHeld": 54.5, "sNo": 1 } ], "listOfForeignInvestors": [ { "address": null, "countryOfIncorporation": null, "dateOfIncorporation": null, "name": "GOVERNMENT OF THE PROVINCE OF ALBERTA MANAGED BY C", "numberOfSharesheld": 144700, "percentageOfSharesHeld": 0.94 }, { "address": null, "countryOfIncorporation": null, "dateOfIncorporation": null, "name": "LSV EMERGING MARKETS SMALL CAP EQUITY FUND, LP", "numberOfSharesheld": 117300, "percentageOfSharesHeld": 0.76 }, { "address": null, "countryOfIncorporation": null, "dateOfIncorporation": null, "name": "EMERGING MARKETS CORE EQUITY PORTFOLIO (THE PORTFO", "numberOfSharesheld": 63846, "percentageOfSharesHeld": 0.41 }, { "address": null, "countryOfIncorporation": null, "dateOfIncorporation": null, "name": "THE EMERGING MARKETS SMALL CAP SERIES OF THE DFA I", "numberOfSharesheld": 42664, "percentageOfSharesHeld": 0.28 }, { "address": null, "countryOfIncorporation": null, "dateOfIncorporation": null, "name": "MV SCIF MAURITIUS", "numberOfSharesheld": 24464, "percentageOfSharesHeld": 0.16 }, { "address": null, "countryOfIncorporation": null, "dateOfIncorporation": null, "name": "PUBLIC EMPLOYEES RETIREMENT SYSTEM OF OHIO", "numberOfSharesheld": 25100, "percentageOfSharesHeld": 0.16 }, { "address": null, "countryOfIncorporation": null, "dateOfIncorporation": null, "name": "WISDOMTREE INDIA INVESTMENT PORTFOLIO, INC.", "numberOfSharesheld": 19579, "percentageOfSharesHeld": 0.13 }, { "address": null, "countryOfIncorporation": null, "dateOfIncorporation": null, "name": "STICHTING SHELL PENSIOENFONDS", "numberOfSharesheld": 20700, "percentageOfSharesHeld": 0.13 }, { "address": null, "countryOfIncorporation": null, "dateOfIncorporation": null, "name": "SHELL PENSIONS TRUST LIMITED AS TRUSTEE OF THE SHE", "numberOfSharesheld": 18200, "percentageOfSharesHeld": 0.12 }, { "address": null, "countryOfIncorporation": null, "dateOfIncorporation": null, "name": "PREMIER INVESTMENT FUND LIMITED", "numberOfSharesheld": 15000, "percentageOfSharesHeld": 0.1 }, { "address": null, "countryOfIncorporation": null, "dateOfIncorporation": null, "name": "ARTICO SICAV - ARTICO GLOBAL SMALL CAP", "numberOfSharesheld": 14235, "percentageOfSharesHeld": 0.09 }, { "address": null, "countryOfIncorporation": null, "dateOfIncorporation": null, "name": "MCKINLEY CAPITAL MEASA FUND OEIC LIMITED", "numberOfSharesheld": 6600, "percentageOfSharesHeld": 0.04 }, { "address": null, "countryOfIncorporation": null, "dateOfIncorporation": null, "name": "EMERGING MARKETS SOCIAL CORE EQUITY PORTFOLIO OF D", "numberOfSharesheld": 2770, "percentageOfSharesHeld": 0.02 }, { "address": null, "countryOfIncorporation": null, "dateOfIncorporation": null, "name": "WORLD EX U.S. CORE EQUITY PORTFOLIO OF DFA INVESTM", "numberOfSharesheld": 3296, "percentageOfSharesHeld": 0.02 }, { "address": null, "countryOfIncorporation": null, "dateOfIncorporation": null, "name": "T.A. WORLD EX U.S. CORE EQUITY PORTFOLIO OF DFA IN", "numberOfSharesheld": 1705, "percentageOfSharesHeld": 0.01 }, { "address": null, "countryOfIncorporation": null, "dateOfIncorporation": null, "name": "EMERGING MARKETS CORE EQUITY FUND OF DIMENSIONAL F", "numberOfSharesheld": 2308, "percentageOfSharesHeld": 0.01 }, { "address": null, "countryOfIncorporation": null, "dateOfIncorporation": null, "name": "DB INTERNATIONAL (ASIA) LTD", "numberOfSharesheld": 911, "percentageOfSharesHeld": 0.01 }, { "address": null, "countryOfIncorporation": null, "dateOfIncorporation": null, "name": "JOHN HANCOCK FUNDS II EMERGING MARKETS FUND", "numberOfSharesheld": 448, "percentageOfSharesHeld": 0.0 }, { "address": null, "countryOfIncorporation": null, "dateOfIncorporation": null, "name": "ALLIANZ GLOBAL INVESTORS GMBH ACTING ON BEHALF OF", "numberOfSharesheld": 9200, "percentageOfSharesHeld": null } ] } } ], "companyInfo": { "entityId": "L27102OR1982PLC001091", "regAddOfEntity": "P.O-Joda KEONJHAR Orissa 758034 India", "registrationDateOfCompany": null, "entityEmailId": "sankar.bhattacharya@tatasteellp.com", "entityName": "TATA STEEL LONG PRODUCTS LIMITED" } }, "statusCode": 101 }';
        GenericMockClass mock= new GenericMockClass (200,'success',body);
        Test.setMock(HttpCalloutMock.class,mock);
        createInvestors.deleteOldInvMCA(leadObj.Id,'L27102OR1982PLC001091','Lead');
        Test.stopTest();
    }
    @isTest static void testCreateInvestorsFromMCAAnnualReturn(){   
        Test.startTest();
        Lead leadObj  = [SELECT Id,capIQId__c,MCA_ID__c FROM Lead LIMIT 1];
        String body ='{ "requestId": "013d55ba-7039-451b-8955-f6a2077e7512", "result": { "annualReturn": [ { "metadata": { "docId": "612a0348f36efc0001136295", "financialYear": "2018-19", "financialStartDate": "2018-04-01", "financialEndDate": "2019-03-31", "dateOfFiling": "2019-09-11", "documentName": "Form MGT-7-11092019_signed", "entityId": "L27102OR1982PLC001091", "formId": "MGT 7", "type": "Annual Return", "lastUpdated": "2021-08-28 18:08:47", "attachmentLink": "https://download.karza.in/mca-docs/MGlRQ1F1NXNOb0dxSk90SVJqdmxJcFVza3JHZkJkczZrVTdrZGhpN0lyWmJGY3lpNFFCSHlHbWtPT3MyUVNpeGljbWdybEd1K2FoOVJXc0RVcjVpQmZGL3F5dTdxQStOWTJNLy9VOFIxdUxURnZNa1dSQmtvc2JxOHpRaTFVLytVd0JQVCs5bFhZOVdiS1ZuN3c4aHp3dGNqU1ZtTVdoZWM2YUs4VFkrUGxKOXBkVEl5ZE8wVUFKQ2lYSHA5cUR5OHlPSjBnWWllODJnaUQ1TmRZTDl0MW1mUEVTM2ZweDhrZTZaazMwbDB2YWdVamFZdms3dWMxWWxRanZ5OEIrbFVOWEZ2QlBUV3VnVGNmcUFxYzNVWDJiL2diczVGZHBvZVNCOTY3QU1sZ2RoZzJhNU1JOG1hVTc5VjNpOXM4S0U=", "excelLink": "https://download.karza.in/mca-docs/MGlRQ1F1NXNOb0dxSk90SVJqdmxJcFVza3JHZkJkczZrVTdrZGhpN0lyWkdubDRkenUxNlBFTEVneXpFZGpkZmNzZEwwTlhyZVFTckwvdCtNcGljalJuNTBDYmxxbXhvSVIwT2I1eVpZS0NFYXpVWTd3UktqS2FkTFUzWk1CWUcwYlN6ZWJhN1pqd1F6Q2FXaU54TFJjYlAyaHdpZ3poaGVvcjZOWlJrZ3Y3UnNxZWxVeEJKUWJmTk9JSGNST3g4SFVxQS9tOVhhT09kWkt6MjdWK2ZHTWdqNGFqcWhwM00wbC9qaGh3Z3EzUTJjRDQzZ0swWjkvdHAvWXFGampYaDFSdXdTWkUvUHpucENDVUhOZmY5aEo0M2dZYlMxdmVabmkrMHg2VjJKMzBXYlV2V1B4Qk8xQlJsK052a0FPL0RVdWwwT0tUQ3FHcVBJbVpySTF6byt3PT0=", "docLink": "https://download.karza.in/mca-docs/MGlRQ1F1NXNOb0dxSk90SVJqdmxJcFVza3JHZkJkczZrVTdrZGhpN0lyWUVVOVpTeXM4VzFYWEpPNmdrOG5TSlI5azJXQWxlUDJpa1ZVOEdCcWNubXRTU084SlFmYnlqaWRYcnVKYnBxdjY0KzkvOGsvREVPK0ZUQ09PT205L1VXblBya3hoMVhUcjFrTERVS2JmendpZUl2OHRrUVlMOTcrbk1BcWc2ZHQ2N3c3Q2VKQ3VtYkU4eG15QzArUS9hbFE2bXVBaUQ5S012eXdHNUN1b20rQmZZN0w2WjhZaVJrWTQ1eXVYQnNidVg5a2Z2T2lkTUZYYndTeENnbm52WnZKbG9YSkpObno1cXlvUWJwSklNVkw0cjM0RFhScUxRbGdiY1lvOWJjOEk9" }, "data": { "businessActivitiesList": [ { "businessActivityCode": "C7", "descriptionOfBusinessActivity": "Metal and metal products", "descriptionOfMainActivityGroup": "Manufacturing", "mainActivityGroupCode": "C", "percentageOfTurnoverOfTheCompany": 94.63, "sNo": 1 }, { "businessActivityCode": "D1", "descriptionOfBusinessActivity": "Electric power generation, transmission and distribution", "descriptionOfMainActivityGroup": "Electricity, gas, steam and air condition supply", "mainActivityGroupCode": "D", "percentageOfTurnoverOfTheCompany": 5.37, "sNo": 2 } ], "subsidiariesList": [ { "cinFcrn": "U40109OR2012PLC016232", "holdingSubsidiaryAssociateJointVenture": "Subsidiary", "namecompany": "TSIL ENERGY LIMITED", "percentageOfSharesHeld": 100.0, "sNo": 2 }, { "cinFcrn": "L27100MH1907PLC000260", "holdingSubsidiaryAssociateJointVenture": "Holding Company", "namecompany": "TATA STEEL LIMITED", "percentageOfSharesHeld": 54.5, "sNo": 1 } ], "listOfForeignInvestors": [ { "address": null, "countryOfIncorporation": null, "dateOfIncorporation": null, "name": "GOVERNMENT OF THE PROVINCE OF ALBERTA MANAGED BY C", "numberOfSharesheld": 144700, "percentageOfSharesHeld": 0.94 }, { "address": null, "countryOfIncorporation": null, "dateOfIncorporation": null, "name": "LSV EMERGING MARKETS SMALL CAP EQUITY FUND, LP", "numberOfSharesheld": 117300, "percentageOfSharesHeld": 0.76 }, { "address": null, "countryOfIncorporation": null, "dateOfIncorporation": null, "name": "EMERGING MARKETS CORE EQUITY PORTFOLIO (THE PORTFO", "numberOfSharesheld": 63846, "percentageOfSharesHeld": 0.41 }, { "address": null, "countryOfIncorporation": null, "dateOfIncorporation": null, "name": "THE EMERGING MARKETS SMALL CAP SERIES OF THE DFA I", "numberOfSharesheld": 42664, "percentageOfSharesHeld": 0.28 }, { "address": null, "countryOfIncorporation": null, "dateOfIncorporation": null, "name": "MV SCIF MAURITIUS", "numberOfSharesheld": 24464, "percentageOfSharesHeld": 0.16 }, { "address": null, "countryOfIncorporation": null, "dateOfIncorporation": null, "name": "PUBLIC EMPLOYEES RETIREMENT SYSTEM OF OHIO", "numberOfSharesheld": 25100, "percentageOfSharesHeld": 0.16 }, { "address": null, "countryOfIncorporation": null, "dateOfIncorporation": null, "name": "WISDOMTREE INDIA INVESTMENT PORTFOLIO, INC.", "numberOfSharesheld": 19579, "percentageOfSharesHeld": 0.13 }, { "address": null, "countryOfIncorporation": null, "dateOfIncorporation": null, "name": "STICHTING SHELL PENSIOENFONDS", "numberOfSharesheld": 20700, "percentageOfSharesHeld": 0.13 }, { "address": null, "countryOfIncorporation": null, "dateOfIncorporation": null, "name": "SHELL PENSIONS TRUST LIMITED AS TRUSTEE OF THE SHE", "numberOfSharesheld": 18200, "percentageOfSharesHeld": 0.12 }, { "address": null, "countryOfIncorporation": null, "dateOfIncorporation": null, "name": "PREMIER INVESTMENT FUND LIMITED", "numberOfSharesheld": 15000, "percentageOfSharesHeld": 0.1 }, { "address": null, "countryOfIncorporation": null, "dateOfIncorporation": null, "name": "ARTICO SICAV - ARTICO GLOBAL SMALL CAP", "numberOfSharesheld": 14235, "percentageOfSharesHeld": 0.09 }, { "address": null, "countryOfIncorporation": null, "dateOfIncorporation": null, "name": "MCKINLEY CAPITAL MEASA FUND OEIC LIMITED", "numberOfSharesheld": 6600, "percentageOfSharesHeld": 0.04 }, { "address": null, "countryOfIncorporation": null, "dateOfIncorporation": null, "name": "EMERGING MARKETS SOCIAL CORE EQUITY PORTFOLIO OF D", "numberOfSharesheld": 2770, "percentageOfSharesHeld": 0.02 }, { "address": null, "countryOfIncorporation": null, "dateOfIncorporation": null, "name": "WORLD EX U.S. CORE EQUITY PORTFOLIO OF DFA INVESTM", "numberOfSharesheld": 3296, "percentageOfSharesHeld": 0.02 }, { "address": null, "countryOfIncorporation": null, "dateOfIncorporation": null, "name": "T.A. WORLD EX U.S. CORE EQUITY PORTFOLIO OF DFA IN", "numberOfSharesheld": 1705, "percentageOfSharesHeld": 0.01 }, { "address": null, "countryOfIncorporation": null, "dateOfIncorporation": null, "name": "EMERGING MARKETS CORE EQUITY FUND OF DIMENSIONAL F", "numberOfSharesheld": 2308, "percentageOfSharesHeld": 0.01 }, { "address": null, "countryOfIncorporation": null, "dateOfIncorporation": null, "name": "DB INTERNATIONAL (ASIA) LTD", "numberOfSharesheld": 911, "percentageOfSharesHeld": 0.01 }, { "address": null, "countryOfIncorporation": null, "dateOfIncorporation": null, "name": "JOHN HANCOCK FUNDS II EMERGING MARKETS FUND", "numberOfSharesheld": 448, "percentageOfSharesHeld": 0.0 }, { "address": null, "countryOfIncorporation": null, "dateOfIncorporation": null, "name": "ALLIANZ GLOBAL INVESTORS GMBH ACTING ON BEHALF OF", "numberOfSharesheld": 9200, "percentageOfSharesHeld": null } ] } } ], "companyInfo": { "entityId": "L27102OR1982PLC001091", "regAddOfEntity": "P.O-Joda KEONJHAR Orissa 758034 India", "registrationDateOfCompany": null, "entityEmailId": "sankar.bhattacharya@tatasteellp.com", "entityName": "TATA STEEL LONG PRODUCTS LIMITED" } }, "statusCode": 101 }';
        GenericMockClass mock= new GenericMockClass (200,'success',body);
        Test.setMock(HttpCalloutMock.class,mock);
        createInvestors.createInvestorsFromMCAAnnualReturn(leadObj.Id,'L27102OR1982PLC001091','Lead');
        Test.stopTest();
    }

    
}